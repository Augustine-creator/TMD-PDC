<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruaka Interactive Map - 100+ Towns</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            overflow: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
        }
        
        #map-container {
            width: 100%;
            height: 100vh;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #map-wrapper {
            width: 90%;
            height: 90%;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            position: relative;
        }
        
        #map-svg {
            width: 100%;
            height: 100%;
            cursor: grab;
            transition: transform 0.3s ease;
        }
        
        #map-svg:active {
            cursor: grabbing;
        }
        
        .controls {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        
        .zoom-btn {
            width: 40px;
            height: 40px;
            margin: 5px;
            border: none;
            background: #4a5568;
            color: white;
            border-radius: 5px;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .zoom-btn:hover {
            background: #2d3748;
            transform: scale(1.1);
        }
        
        .zoom-level {
            text-align: center;
            margin: 10px 0;
            font-weight: bold;
            color: #2d3748;
        }
        
        .info-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            max-width: 300px;
            z-index: 1000;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }
        
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 10px;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .tooltip {
            position: absolute;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 12px;
            pointer-events: none;
            display: none;
            z-index: 2000;
        }
        
        /* Town visibility classes */
        .town-major { display: block; }
        .town-medium { display: none; }
        .town-minor { display: none; }
        
        .zoom-medium .town-medium { display: block; }
        .zoom-high .town-medium { display: block; }
        .zoom-high .town-minor { display: block; }
    </style>
</head>
<body>
    <div id="map-container">
        <div id="map-wrapper">
            <svg id="map-svg" viewBox="0 0 2000 2000" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <radialGradient id="bgGradient" cx="50%" cy="50%">
                        <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
                        <stop offset="50%" style="stop-color:#f0fdf4;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#dcfce7;stop-opacity:1" />
                    </radialGradient>
                    <filter id="glow">
                        <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                        <feMerge>
                            <feMergeNode in="coloredBlur"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                </defs>
                
                <!-- Background -->
                <rect width="2000" height="2000" fill="url(#bgGradient)"/>
                
                <!-- Grid for reference -->
                <defs>
                    <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                        <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#e5e7eb" stroke-width="0.5"/>
                    </pattern>
                </defs>
                <rect width="2000" height="2000" fill="url(#grid)" opacity="0.3"/>
                
                <!-- Distance Rings -->
                <g id="rings">
                    <circle cx="1000" cy="1000" r="133" fill="none" stroke="#cbd5e1" stroke-width="1" stroke-dasharray="5,3" opacity="0.5"/>
                    <circle cx="1000" cy="1000" r="267" fill="none" stroke="#cbd5e1" stroke-width="1" stroke-dasharray="5,3" opacity="0.5"/>
                    <circle cx="1000" cy="1000" r="400" fill="none" stroke="#cbd5e1" stroke-width="1" stroke-dasharray="5,3" opacity="0.5"/>
                    <circle cx="1000" cy="1000" r="533" fill="none" stroke="#ef4444" stroke-width="2" opacity="0.7"/>
                    <circle cx="1000" cy="1000" r="667" fill="none" stroke="#cbd5e1" stroke-width="1" stroke-dasharray="5,3" opacity="0.5"/>
                    <circle cx="1000" cy="1000" r="800" fill="none" stroke="#ef4444" stroke-width="3" opacity="0.7"/>
                    
                    <!-- Distance labels -->
                    <text x="1000" y="860" text-anchor="middle" fill="#6b7280" font-size="14">2km</text>
                    <text x="1000" y="730" text-anchor="middle" fill="#6b7280" font-size="14">4km</text>
                    <text x="1000" y="600" text-anchor="middle" fill="#6b7280" font-size="14">6km</text>
                    <text x="1000" y="470" text-anchor="middle" fill="#dc2626" font-size="16" font-weight="bold">8km</text>
                    <text x="1000" y="330" text-anchor="middle" fill="#6b7280" font-size="14">10km</text>
                    <text x="1000" y="200" text-anchor="middle" fill="#dc2626" font-size="18" font-weight="bold">15km</text>
                </g>
                
                <!-- Major Roads -->
                <g id="roads">
                    <line x1="1000" y1="1000" x2="1000" y2="200" stroke="#475569" stroke-width="3" opacity="0.5"/>
                    <line x1="1000" y1="1000" x2="1600" y2="400" stroke="#475569" stroke-width="3" opacity="0.5"/>
                    <line x1="1000" y1="1000" x2="1800" y2="1000" stroke="#475569" stroke-width="3" opacity="0.5"/>
                    <line x1="1000" y1="1000" x2="1600" y2="1600" stroke="#475569" stroke-width="3" opacity="0.5"/>
                    <line x1="1000" y1="1000" x2="1000" y2="1800" stroke="#475569" stroke-width="3" opacity="0.5"/>
                    <line x1="1000" y1="1000" x2="400" y2="1600" stroke="#475569" stroke-width="3" opacity="0.5"/>
                    <line x1="1000" y1="1000" x2="200" y2="1000" stroke="#475569" stroke-width="4" opacity="0.6"/>
                    <line x1="1000" y1="1000" x2="400" y2="400" stroke="#475569" stroke-width="3" opacity="0.5"/>
                    <text x="500" y="990" fill="#475569" font-size="12" font-weight="bold">← LIMURU ROAD →</text>
                </g>
                
                <!-- Center - RUAKA -->
                <circle cx="1000" cy="1000" r="20" fill="#10b981" stroke="white" stroke-width="4" filter="url(#glow)"/>
                <text x="1000" y="1040" text-anchor="middle" fill="#047857" font-size="28" font-weight="900">RUAKA</text>
                
                <!-- Towns Layer -->
                <g id="towns">
                    <!-- MAJOR TOWNS (Always visible) -->
                    <g class="town-major">
                        <!-- Close Range 0-5km -->
                        <circle cx="1000" cy="920" r="8" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="1000" y="910" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Two Rivers Mall</text>
                        <text x="1000" y="895" text-anchor="middle" fill="#6b7280" font-size="10">0.5km</text>
                        
                        <circle cx="1080" cy="950" r="8" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="1120" y="953" fill="#1f2937" font-size="14" font-weight="600">Runda</text>
                        <text x="1120" y="968" fill="#6b7280" font-size="10">2.5km</text>
                        
                        <circle cx="1100" cy="1000" r="8" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="1140" y="1003" fill="#1f2937" font-size="14" font-weight="600">Rosslyn</text>
                        <text x="1140" y="1018" fill="#6b7280" font-size="10">2.8km</text>
                        
                        <circle cx="1000" cy="1100" r="8" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="1000" y="1125" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Banana Hill</text>
                        <text x="1000" y="1140" text-anchor="middle" fill="#6b7280" font-size="10">3km</text>
                        
                        <circle cx="920" cy="1050" r="8" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="880" y="1053" text-anchor="end" fill="#1f2937" font-size="14" font-weight="600">Ndenderu</text>
                        <text x="880" y="1068" text-anchor="end" fill="#6b7280" font-size="10">3km</text>
                        
                        <circle cx="900" cy="1000" r="8" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="860" y="1003" text-anchor="end" fill="#1f2937" font-size="14" font-weight="600">Gachie</text>
                        <text x="860" y="1018" text-anchor="end" fill="#6b7280" font-size="10">2.5km</text>
                        
                        <!-- Limuru Road Corridor -->
                        <circle cx="800" cy="1000" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="800" y="980" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Zambezi</text>
                        <text x="800" y="965" text-anchor="middle" fill="#6b7280" font-size="10">5.5km</text>
                        
                        <circle cx="700" cy="1000" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="700" y="980" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Karuri</text>
                        <text x="700" y="965" text-anchor="middle" fill="#6b7280" font-size="10">5km</text>
                        
                        <circle cx="600" cy="1000" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="600" y="1025" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Wangige</text>
                        <text x="600" y="1040" text-anchor="middle" fill="#6b7280" font-size="10">9km</text>
                        
                        <circle cx="500" cy="1000" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="500" y="980" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Tigoni</text>
                        <text x="500" y="965" text-anchor="middle" fill="#6b7280" font-size="10">12km</text>
                        
                        <circle cx="400" cy="1000" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="400" y="1025" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Limuru</text>
                        <text x="400" y="1040" text-anchor="middle" fill="#6b7280" font-size="10">14km</text>
                        
                        <circle cx="300" cy="900" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="300" y="880" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Bibirioni</text>
                        <text x="300" y="865" text-anchor="middle" fill="#6b7280" font-size="10">14.5km</text>
                        
                        <!-- Northern Corridor -->
                        <circle cx="1000" cy="600" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1000" y="580" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Kiambu</text>
                        <text x="1000" y="565" text-anchor="middle" fill="#6b7280" font-size="10">9km</text>
                        
                        <circle cx="1200" cy="700" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="1240" y="703" fill="#1f2937" font-size="14" font-weight="600">Ruiru</text>
                        <text x="1240" y="718" fill="#6b7280" font-size="10">13km</text>
                        
                        <circle cx="1100" cy="500" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="1140" y="503" fill="#1f2937" font-size="14" font-weight="600">Juja</text>
                        <text x="1140" y="518" fill="#6b7280" font-size="10">15km</text>
                        
                        <circle cx="1300" cy="600" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="1340" y="603" fill="#1f2937" font-size="14" font-weight="600">Thika</text>
                        <text x="1340" y="618" fill="#6b7280" font-size="10">15km</text>
                        
                        <!-- Engineer and Northwest -->
                        <circle cx="350" cy="350" r="8" fill="#f59e0b" stroke="white" stroke-width="2"/>
                        <text x="350" y="330" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="700">ENGINEER</text>
                        <text x="350" y="315" text-anchor="middle" fill="#6b7280" font-size="10">15km</text>
                        
                        <circle cx="450" cy="450" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="450" y="430" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Githunguri</text>
                        <text x="450" y="415" text-anchor="middle" fill="#6b7280" font-size="10">15km</text>
                        
                        <circle cx="550" cy="550" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="550" y="530" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Lari</text>
                        <text x="550" y="515" text-anchor="middle" fill="#6b7280" font-size="10">14km</text>
                        
                        <!-- Eastern Corridor -->
                        <circle cx="1200" cy="950" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1240" y="953" fill="#1f2937" font-size="14" font-weight="600">Gigiri</text>
                        <text x="1240" y="968" fill="#6b7280" font-size="10">5km</text>
                        
                        <circle cx="1250" cy="1000" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1290" y="1003" fill="#1f2937" font-size="14" font-weight="600">Muthaiga</text>
                        <text x="1290" y="1018" fill="#6b7280" font-size="10">6km</text>
                        
                        <circle cx="1200" cy="1100" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1240" y="1103" fill="#1f2937" font-size="14" font-weight="600">Westlands</text>
                        <text x="1240" y="1118" fill="#6b7280" font-size="10">6km</text>
                        
                        <!-- Southern Corridor -->
                        <circle cx="1000" cy="1400" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1000" y="1425" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Nairobi CBD</text>
                        <text x="1000" y="1440" text-anchor="middle" fill="#6b7280" font-size="10">10km</text>
                        
                        <circle cx="900" cy="1300" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="860" y="1303" text-anchor="end" fill="#1f2937" font-size="14" font-weight="600">Kilimani</text>
                        <text x="860" y="1318" text-anchor="end" fill="#6b7280" font-size="10">9km</text>
                        
                        <circle cx="1100" cy="1300" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1140" y="1303" fill="#1f2937" font-size="14" font-weight="600">Lavington</text>
                        <text x="1140" y="1318" fill="#6b7280" font-size="10">8km</text>
                        
                        <!-- Southwest -->
                        <circle cx="700" cy="1200" r="8" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="660" y="1203" text-anchor="end" fill="#1f2937" font-size="14" font-weight="600">Kikuyu</text>
                        <text x="660" y="1218" text-anchor="end" fill="#6b7280" font-size="10">12km</text>
                        
                        <circle cx="600" cy="1300" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="560" y="1303" text-anchor="end" fill="#1f2937" font-size="14" font-weight="600">Kabete</text>
                        <text x="560" y="1318" text-anchor="end" fill="#6b7280" font-size="10">11km</text>
                        
                        <circle cx="1200" cy="1400" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="1240" y="1403" fill="#1f2937" font-size="14" font-weight="600">Karen</text>
                        <text x="1240" y="1418" fill="#6b7280" font-size="10">13km</text>
                        
                        <circle cx="1100" cy="1500" r="8" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="1100" y="1525" text-anchor="middle" fill="#1f2937" font-size="14" font-weight="600">Langata</text>
                        <text x="1100" y="1540" text-anchor="middle" fill="#6b7280" font-size="10">14km</text>
                    </g>
                    
                    <!-- MEDIUM TOWNS (Visible at zoom > 1.5x) -->
                    <g class="town-medium">
                        <!-- More Limuru Road towns -->
                        <circle cx="850" cy="1000" r="6" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="850" y="1025" text-anchor="middle" fill="#1f2937" font-size="12">Ndumberi</text>
                        <text x="850" y="1038" text-anchor="middle" fill="#6b7280" font-size="9">4km</text>
                        
                        <circle cx="750" cy="950" r="6" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="750" y="935" text-anchor="middle" fill="#1f2937" font-size="12">Limuru Rd</text>
                        <text x="750" y="922" text-anchor="middle" fill="#6b7280" font-size="9">4km</text>
                        
                        <circle cx="650" cy="950" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="650" y="935" text-anchor="middle" fill="#1f2937" font-size="12">Redhill</text>
                        <text x="650" y="922" text-anchor="middle" fill="#6b7280" font-size="9">7km</text>
                        
                        <circle cx="550" cy="950" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="550" y="935" text-anchor="middle" fill="#1f2937" font-size="12">Kinoo</text>
                        <text x="550" y="922" text-anchor="middle" fill="#6b7280" font-size="9">9.5km</text>
                        
                        <circle cx="450" cy="950" r="6" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="450" y="935" text-anchor="middle" fill="#1f2937" font-size="12">Uthiru</text>
                        <text x="450" y="922" text-anchor="middle" fill="#6b7280" font-size="9">11km</text>
                        
                        <circle cx="350" cy="1000" r="6" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="350" y="1025" text-anchor="middle" fill="#1f2937" font-size="12">Gitaru</text>
                        <text x="350" y="1038" text-anchor="middle" fill="#6b7280" font-size="9">13km</text>
                        
                        <circle cx="250" cy="1000" r="6" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="250" y="1025" text-anchor="middle" fill="#1f2937" font-size="12">Rironi</text>
                        <text x="250" y="1038" text-anchor="middle" fill="#6b7280" font-size="9">15km</text>
                        
                        <!-- More inner areas -->
                        <circle cx="950" cy="950" r="6" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="920" y="935" text-anchor="end" fill="#1f2937" font-size="12">Muchatha</text>
                        <text x="920" y="922" text-anchor="end" fill="#6b7280" font-size="9">2km</text>
                        
                        <circle cx="1050" cy="1050" r="6" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="1080" y="1065" fill="#1f2937" font-size="12">Nyari</text>
                        <text x="1080" y="1078" fill="#6b7280" font-size="9">3km</text>
                        
                        <circle cx="1080" cy="1100" r="6" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="1110" y="1115" fill="#1f2937" font-size="12">Village Market</text>
                        <text x="1110" y="1128" fill="#6b7280" font-size="9">1.5km</text>
                        
                        <circle cx="950" cy="1100" r="6" fill="#ef4444" stroke="white" stroke-width="2"/>
                        <text x="920" y="1115" text-anchor="end" fill="#1f2937" font-size="12">Kihara</text>
                        <text x="920" y="1128" text-anchor="end" fill="#6b7280" font-size="9">3km</text>
                        
                        <circle cx="850" cy="1100" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="820" y="1115" text-anchor="end" fill="#1f2937" font-size="12">Kangemi</text>
                        <text x="820" y="1128" text-anchor="end" fill="#6b7280" font-size="9">5km</text>
                        
                        <circle cx="820" cy="1130" r="6" fill="#10b981" stroke="white" stroke-width="2"/>
                        <text x="790" y="1145" text-anchor="end" fill="#1f2937" font-size="12">Kangemi Flyover</text>
                        <text x="790" y="1158" text-anchor="end" fill="#6b7280" font-size="9">5.5km</text>
                        
                        <circle cx="1150" cy="1050" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1180" y="1065" fill="#1f2937" font-size="12">UN Complex</text>
                        <text x="1180" y="1078" fill="#6b7280" font-size="9">5km</text>
                        
                        <circle cx="1150" cy="1150" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1180" y="1165" fill="#1f2937" font-size="12">Parklands</text>
                        <text x="1180" y="1178" fill="#6b7280" font-size="9">7km</text>
                        
                        <circle cx="1100" cy="1200" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1130" y="1215" fill="#1f2937" font-size="12">ABC Place</text>
                        <text x="1130" y="1228" fill="#6b7280" font-size="9">5km</text>
                        
                        <circle cx="1050" cy="1250" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1080" y="1265" fill="#1f2937" font-size="12">Kileleshwa</text>
                        <text x="1080" y="1278" fill="#6b7280" font-size="9">8km</text>
                        
                        <circle cx="950" cy="1250" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="920" y="1265" text-anchor="end" fill="#1f2937" font-size="12">Loresho</text>
                        <text x="920" y="1278" text-anchor="end" fill="#6b7280" font-size="9">6km</text>
                        
                        <circle cx="850" cy="1250" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="820" y="1265" text-anchor="end" fill="#1f2937" font-size="12">Spring Valley</text>
                        <text x="820" y="1278" text-anchor="end" fill="#6b7280" font-size="9">6km</text>
                        
                        <!-- Northern areas -->
                        <circle cx="1100" cy="800" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1130" y="815" fill="#1f2937" font-size="12">Githurai</text>
                        <text x="1130" y="828" fill="#6b7280" font-size="9">8.5km</text>
                        
                        <circle cx="1200" cy="850" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="1230" y="865" fill="#1f2937" font-size="12">Kasarani</text>
                        <text x="1230" y="878" fill="#6b7280" font-size="9">9km</text>
                        
                        <circle cx="1300" cy="900" r="6" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="1330" y="915" fill="#1f2937" font-size="12">Roysambu</text>
                        <text x="1330" y="928" fill="#6b7280" font-size="9">11km</text>
                        
                        <circle cx="900" cy="700" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="870" y="715" text-anchor="end" fill="#1f2937" font-size="12">Thindigua</text>
                        <text x="870" y="728" text-anchor="end" fill="#6b7280" font-size="9">7km</text>
                        
                        <circle cx="800" cy="600" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="770" y="615" text-anchor="end" fill="#1f2937" font-size="12">Karatu</text>
                        <text x="770" y="628" text-anchor="end" fill="#6b7280" font-size="9">8km</text>
                        
                        <circle cx="1200" cy="500" r="6" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="1230" y="515" fill="#1f2937" font-size="12">Gatundu</text>
                        <text x="1230" y="528" fill="#6b7280" font-size="9">14km</text>
                        
                        <!-- Southwest additions -->
                        <circle cx="500" cy="1100" r="6" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="470" y="1115" text-anchor="end" fill="#1f2937" font-size="12">Thogoto</text>
                        <text x="470" y="1128" text-anchor="end" fill="#6b7280" font-size="9">12km</text>
                        
                        <circle cx="400" cy="1200" r="6" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="370" y="1215" text-anchor="end" fill="#1f2937" font-size="12">Ndeiya</text>
                        <text x="370" y="1228" text-anchor="end" fill="#6b7280" font-size="9">14km</text>
                        
                        <circle cx="800" cy="1300" r="6" fill="#3b82f6" stroke="white" stroke-width="2"/>
                        <text x="770" y="1315" text-anchor="end" fill="#1f2937" font-size="12">Kawangware</text>
                        <text x="770" y="1328" text-anchor="end" fill="#6b7280" font-size="9">7.5km</text>
                        
                        <circle cx="900" cy="1400" r="6" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="870" y="1415" text-anchor="end" fill="#1f2937" font-size="12">Dagoretti</text>
                        <text x="870" y="1428" text-anchor="end" fill="#6b7280" font-size="9">12km</text>
                        
                        <circle cx="1000" cy="1500" r="6" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="1000" y="1525" text-anchor="middle" fill="#1f2937" font-size="12">Ngong Road</text>
                        <text x="1000" y="1538" text-anchor="middle" fill="#6b7280" font-size="9">12km</text>
                        
                        <circle cx="900" cy="1550" r="6" fill="#8b5cf6" stroke="white" stroke-width="2"/>
                        <text x="900" y="1575" text-anchor="middle" fill="#1f2937" font-size="12">Ngong</text>
                        <text x="900" y="1588" text-anchor="middle" fill="#6b7280" font-size="9">15km</text>
                    </g>
                    
                    <!-- MINOR TOWNS (Visible at zoom > 2.5x) -->
                    <g class="town-minor">
                        <!-- Additional Limuru Road details -->
                        <circle cx="825" cy="975" r="4" fill="#ef4444" stroke="white" stroke-width="1"/>
                        <text x="825" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Rumingi</text>
                        
                        <circle cx="775" cy="975" r="4" fill="#ef4444" stroke="white" stroke-width="1"/>
                        <text x="775" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Gacharage</text>
                        
                        <circle cx="725" cy="975" r="4" fill="#ef4444" stroke="white" stroke-width="1"/>
                        <text x="725" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Gathanga</text>
                        
                        <circle cx="675" cy="975" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="675" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Kiambaa</text>
                        
                        <circle cx="625" cy="975" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="625" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Ndumbuini</text>
                        
                        <circle cx="575" cy="975" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="575" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Muthiga</text>
                        
                        <circle cx="525" cy="975" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="525" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Kinoo Estate</text>
                        
                        <circle cx="475" cy="975" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="475" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Muthure</text>
                        
                        <circle cx="425" cy="975" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="425" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Muguga</text>
                        
                        <circle cx="375" cy="975" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="375" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Gitaru Junction</text>
                        
                        <circle cx="325" cy="975" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="325" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Chunga Mali</text>
                        
                        <circle cx="275" cy="975" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="275" y="965" text-anchor="middle" fill="#4b5563" font-size="10">Gichini</text>
                        
                        <!-- More detailed areas -->
                        <circle cx="975" cy="975" r="4" fill="#ef4444" stroke="white" stroke-width="1"/>
                        <text x="955" y="965" text-anchor="end" fill="#4b5563" font-size="10">Kitisuru</text>
                        
                        <circle cx="1025" cy="975" r="4" fill="#ef4444" stroke="white" stroke-width="1"/>
                        <text x="1045" y="965" fill="#4b5563" font-size="10">Runda Estate</text>
                        
                        <circle cx="1025" cy="1025" r="4" fill="#ef4444" stroke="white" stroke-width="1"/>
                        <text x="1045" y="1035" fill="#4b5563" font-size="10">Nyari West</text>
                        
                        <circle cx="975" cy="1025" r="4" fill="#ef4444" stroke="white" stroke-width="1"/>
                        <text x="955" y="1035" text-anchor="end" fill="#4b5563" font-size="10">Mimosa</text>
                        
                        <circle cx="1075" cy="1025" r="4" fill="#ef4444" stroke="white" stroke-width="1"/>
                        <text x="1095" y="1035" fill="#4b5563" font-size="10">Old Runda</text>
                        
                        <circle cx="1125" cy="975" r="4" fill="#ef4444" stroke="white" stroke-width="1"/>
                        <text x="1145" y="985" fill="#4b5563" font-size="10">New Runda</text>
                        
                        <circle cx="1175" cy="1025" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="1195" y="1035" fill="#4b5563" font-size="10">Gigiri Estate</text>
                        
                        <circle cx="1125" cy="1125" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="1145" y="1135" fill="#4b5563" font-size="10">Sarit Centre</text>
                        
                        <circle cx="1075" cy="1175" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="1095" y="1185" fill="#4b5563" font-size="10">Valley Arcade</text>
                        
                        <circle cx="1025" cy="1225" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="1045" y="1235" fill="#4b5563" font-size="10">Yaya Centre</text>
                        
                        <circle cx="975" cy="1275" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="995" y="1285" fill="#4b5563" font-size="10">Hurlingham</text>
                        
                        <circle cx="925" cy="1325" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="945" y="1335" fill="#4b5563" font-size="10">Nairobi West</text>
                        
                        <circle cx="1025" cy="1325" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="1045" y="1335" fill="#4b5563" font-size="10">South C</text>
                        
                        <circle cx="1125" cy="1325" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="1145" y="1335" fill="#4b5563" font-size="10">South B</text>
                        
                        <circle cx="1225" cy="1025" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="1245" y="1035" fill="#4b5563" font-size="10">Ridgeways</text>
                        
                        <circle cx="1275" cy="1075" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="1295" y="1085" fill="#4b5563" font-size="10">Garden Estate</text>
                        
                        <circle cx="1325" cy="1125" r="4" fill="#3b82f6" stroke="white" stroke-width="1"/>
                        <text x="1345" y="1135" fill="#4b5563" font-size="10">Zimmerman</text>
                        
                        <circle cx="1375" cy="1175" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="1395" y="1185" fill="#4b5563" font-size="10">Kahawa</text>
                        
                        <circle cx="1425" cy="1225" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="1445" y="1235" fill="#4b5563" font-size="10">Kahawa West</text>
                        
                        <circle cx="1475" cy="1275" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="1495" y="1285" fill="#4b5563" font-size="10">Mwiki</text>
                        
                        <circle cx="1325" cy="1325" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="1345" y="1335" fill="#4b5563" font-size="10">Eastleigh</text>
                        
                        <circle cx="1375" cy="1375" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="1395" y="1385" fill="#4b5563" font-size="10">Embakasi</text>
                        
                        <circle cx="1425" cy="1425" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="1445" y="1435" fill="#4b5563" font-size="10">Donholm</text>
                        
                        <circle cx="1475" cy="1475" r="4" fill="#8b5cf6" stroke="white" stroke-width="1"/>
                        <text x="1495" y="1485" fill="#4b5563" font-size="10">Pipeline</text>
                    </g>
                </g>
            </svg>
        </div>
        
        <div class="controls">
            <button class="zoom-btn" onclick="zoomIn()">+</button>
            <div class="zoom-level">Zoom: <span id="zoom-value">100%</span></div>
            <button class="zoom-btn" onclick="zoomOut()">−</button>
            <button class="zoom-btn" onclick="resetZoom()">⟲</button>
        </div>
        
        <div class="info-panel">
            <h3 style="margin-top: 0; color: #1f2937;">Ruaka Area Map</h3>
            <p style="color: #6b7280; font-size: 13px;">100+ Towns & Landmarks</p>
            <div style="margin: 15px 0;">
                <div class="legend-item">
                    <div class="legend-dot" style="background: #10b981;"></div>
                    <span>Ruaka (Center)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: #ef4444;"></div>
                    <span>0-5km (Close)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: #3b82f6;"></div>
                    <span>5-10km (Medium)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: #8b5cf6;"></div>
                    <span>10-15km (Far)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: #f59e0b;"></div>
                    <span>Special Landmarks</span>
                </div>
            </div>
            <hr style="border: 1px solid #e5e7eb; margin: 15px 0;">
            <p style="color: #4b5563; font-size: 12px; line-height: 1.5;">
                <strong>Zoom Levels:</strong><br>
                • 100%: 35 major towns<br>
                • 150%: 65 towns visible<br>
                • 250%+: All 100+ towns<br><br>
                <strong>Controls:</strong><br>
                • Mouse wheel to zoom<br>
                • Click & drag to pan<br>
                • Hover for details
            </p>
        </div>
        
        <div class="tooltip" id="tooltip"></div>
    </div>
    
    <script>
        let currentZoom = 1;
        const svg = document.getElementById('map-svg');
        const mapWrapper = document.getElementById('map-wrapper');
        const tooltip = document.getElementById('tooltip');
        let isPanning = false;
        let startPoint = {x: 0, y: 0};
        let viewBox = {x: 0, y: 0, w: 2000, h: 2000};
        
        function updateZoom() {
            // Update zoom display
            document.getElementById('zoom-value').textContent = Math.round(currentZoom * 100) + '%';
            
            // Update viewBox for zoom
            const centerX = 1000;
            const centerY = 1000;
            const newWidth = 2000 / currentZoom;
            const newHeight = 2000 / currentZoom;
            
            viewBox.w = newWidth;
            viewBox.h = newHeight;
            viewBox.x = centerX - newWidth / 2;
            viewBox.y = centerY - newHeight / 2;
            
            svg.setAttribute('viewBox', `${viewBox.x} ${viewBox.y} ${viewBox.w} ${viewBox.h}`);
            
            // Update visibility based on zoom level
            if (currentZoom >= 2.5) {
                svg.classList.add('zoom-high');
                svg.classList.add('zoom-medium');
            } else if (currentZoom >= 1.5) {
                svg.classList.add('zoom-medium');
                svg.classList.remove('zoom-high');
            } else {
                svg.classList.remove('zoom-medium');
                svg.classList.remove('zoom-high');
            }
        }
        
        function zoomIn() {
            if (currentZoom < 4) {
                currentZoom = Math.min(currentZoom * 1.5, 4);
                updateZoom();
            }
        }
        
        function zoomOut() {
            if (currentZoom > 0.5) {
                currentZoom = Math.max(currentZoom / 1.5, 0.5);
                updateZoom();
            }
        }
        
        function resetZoom() {
            currentZoom = 1;
            viewBox = {x: 0, y: 0, w: 2000, h: 2000};
            svg.setAttribute('viewBox', '0 0 2000 2000');
            updateZoom();
        }
        
        // Mouse wheel zoom
        mapWrapper.addEventListener('wheel', (e) => {
            e.preventDefault();
            if (e.deltaY < 0) {
                zoomIn();
            } else {
                zoomOut();
            }
        });
        
        // Pan functionality
        svg.addEventListener('mousedown', (e) => {
            isPanning = true;
            startPoint = {x: e.clientX, y: e.clientY};
            svg.style.cursor = 'grabbing';
        });
        
        svg.addEventListener('mousemove', (e) => {
            if (!isPanning) return;
            
            const dx = (e.clientX - startPoint.x) * (viewBox.w / svg.clientWidth);
            const dy = (e.clientY - startPoint.y) * (viewBox.h / svg.clientHeight);
            
            viewBox.x -= dx;
            viewBox.y -= dy;
            
            svg.setAttribute('viewBox', `${viewBox.x} ${viewBox.y} ${viewBox.w} ${viewBox.h}`);
            
            startPoint = {x: e.clientX, y: e.clientY};
        });
        
        svg.addEventListener('mouseup', () => {
            isPanning = false;
            svg.style.cursor = 'grab';
        });
        
        svg.addEventListener('mouseleave', () => {
            isPanning = false;
            svg.style.cursor = 'grab';
        });
        
        // Tooltip functionality
        const towns = svg.querySelectorAll('circle[r]');
        towns.forEach(town => {
            if (town.getAttribute('r') > 3) {  // Only for town circles
                town.addEventListener('mouseenter', (e) => {
                    const nextText = town.nextElementSibling;
                    if (nextText && nextText.tagName === 'text') {
                        const townName = nextText.textContent;
                        const distanceText = nextText.nextElementSibling;
                        const distance = distanceText ? distanceText.textContent : '';
                        
                        tooltip.style.display = 'block';
                        tooltip.textContent = `${townName} - ${distance}`;
                        tooltip.style.left = e.pageX + 10 + 'px';
                        tooltip.style.top = e.pageY - 25 + 'px';
                    }
                });
                
                town.addEventListener('mouseleave', () => {
                    tooltip.style.display = 'none';
                });
            }
        });
        
        // Initialize
        updateZoom();
    </script>
</body>
</html>
